Installing Blackadder, its dependencies, NS3 and running an example on local desktop.
-----

Summary
-----
Installed:
	Blackadder
	Click (w/ Blackadder support, NS3 support)
	Blackadder's C++ and Python libraries. 
	Not yet: Java lib. source -> "Native" bindings, JAR file
	Not yet: NS3

Instructions
-----
Cleanly installing Blackadder and its dependencies (Click Modular Router, others from apt-get)
* In user-owned folders: Self-contained, easy to delete, doesn't spread files/dependencies across OS.
* It doesn't need sudo to install.
* It still needs sudo to run as it tries to access e.g. Ethernet ports. Joining "dialout" group might allow running without admin?
* Installing with ns3 support.

* 24/12: Language bindings/libraries being installed into OS (/usr/local) to use with other scripts referencing "-lblackadder".
*        Main program still a local program. (on PC)

Based off Blackadder's "HowTo.pdf" and other sources.
Basically, this is a runthrough of "Quickstart" and other sections with modifications that worked for me.
I'm attempting to explain 'new' command switches/differences to HowTo.

You'll need to change file paths to the chosen folders, but all other options should be OK.
An alternative is to remove all "--prefix" & file-path options, installing to OS lib/etc folders.
This is still 'user level' rather than 'kernel level'.

Create working folders
* $HOME/.../repos
* $HOME/.../builds

Installing dependencies
	Most:
	make
	C++ e.g. GCC etc
	git
	
	Language bindings:
	Java (Presumably JDK)
	Python 2.x (3 being on system is OK but 2)
	
	sudo apt-­‐get install
	Most:
	  libtool
	  autoconf
	  automake
	Language bindings:
	  python-dev
	  "openjdk-6-jdk" or "sun-java6-jdk"
	  
	  swig
	  libigraph0
	  libigraph0-­‐dev
	  libconfig++8	
	  libconfig++8-­‐dev	
	  libtclap-­‐dev	
	  libboost-­‐graph-­‐dev
	  ant
* I got a note "regex selecting libconfig8".

Clone repositories
	(repos)
	git clone https://github.com/kohler/click
	git clone https://github.com/fp7-pursuit/blackadder.git
	
Creating a symbolic link
	(repos/click/elements)
	mkdir blackadder
	ln -s $HOME/.../repos/blackadder/src $HOME/.../repos/click/elements/blackadder
	* Local paths can be strange for links, I specified the whole path.
	* Need to create the directory before setting the link, otherwise console errors.

Compile and install Click Modular Router.
	(repos/click)
	./configure --enable-nsclick --enable-blackadder --disable-linuxmodule --prefix=$HOME/.../builds/click
	* nsclick: Installing with ns3 support.
	* linuxmodule: Installing 'at user level'.
	* prefix: Installing in user-owned folders.
	
	* In console: "--enable-blackadder not recognised"
	* Despite the warning, "--enable-*" is a separate option in the script, so I think this is still necessary.
	* "/elements/blackadder" still shows up during 'make'.

	(repos/click)
	make -j4
	* j4 is "run 4 jobs in parallel" - it's a little slow otherwise.
	* The "mkminidriver" program mentioned in HowTo would speed this up, but needs to know exactly which 'click elements' are used in a simulation.
	
	make install
	* Shouldn't need sudo due to configure options. (Differs to HowTo)

Compile and install Blackadder
	(repos/blackadder/src)
	* Note "/src".
	
	autoconf
	* No visible effect, but I think it rewrites ./configure.
	
	./configure --disable-linuxmodule --with-click=$HOME/.../builds/click --prefix=$HOME/.../builds/click
	* linuxmodule: Installing at user level.
	* with-click: Locating dependencies.
	* prefix: This is the same directory as click: 'Installing' will put a single library file into Click's structure.
	
	make -j4
	make install
	
Click and its Blackadder module is now installed.

Running Blackadder
	* From the HowTo section.
	* This is just testing to see if Click & Blackadder give console output, not necessary to deploy.
	Create .../builds/click/conf
	Copy .../repos/blackadder/src/sample.conf to there
	Rename it to blackadder_sample.conf
	
	(builds/click)
	sudo ./bin/click conf/blackadder_sample.conf
	* For me, this fails without sudo when it tries to access the Ethernet port.
	
	* Runs until you quit (Ctrl+C)
	* Console output in blackadder-on-pc-test1.log

Install Blackadder C++ Library & SWIG Bindings
	(repos/blackadder/lib)
	* Note "/lib".
	
	autoreconf -fi
	* "regenerate configure and Makefile"
	* Options from guide:
	* force: "remake all files, not just old ones" - Since this might be a different platform to the one they generated files on.
	* install: "copy missing auxilliary files"
	
	* I got many warnings about "subdir-objects is disabled", "this option will be true in future automake versions"
	* Not sure which behaviour is intended.
	
	./configure --enable-python --enable-c
	* C:      "C Samples"
	* Python: I think NS3 accepts Python scripts, may be useful.
	* Java:   Using "alternative to SWIG bindings" instead.
	* Ruby is also available.
	
	* Check HowTo for specifics on "Multiple versions of Python 2.x"
	
	* Specifically not using --prefix option:
	* Other make scripts refer to "-lblackadder" which uses default directory.
	* They could be modified to look in different locations
	
	make
	sudo make install
	* 'sudo' due to prefix.

Installing Blackadder Java Library
	* Not yet attempted.

Installing NS3
	* See blackadder-on-ns3.
	
Installing Topology Manager and deployment tools

Running Topology Manager and deployment tools
	
Log
-----
Up to 14/11
	Following Blackadder's 'HowTo.pdf'.
	Several attempts to install, I got Click to install by itself and respond to test commands.

25/11
	Got Blackadder & Click installed together. See instructions at top.
	Got Click's output using Blackadder's 'sample.conf'
	
26/11
	Installing Blackadder 'C++ library' and 'other bindings'.
		
24/12
	(Editing previous work) Installing library to OS instead of "builds/lib" (compat. with "-lblackadder")
	Installing Topology Manager, Deployment Tool
		
		
		
		
		
		
		
